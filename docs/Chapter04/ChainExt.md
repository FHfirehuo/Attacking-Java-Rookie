# 命令模式、状态模式、责任链模式区别

* 命令模式：一次设定，统一执行。
* 状态模式：
   * 相当于If else if else；
   * 设计路线：各个State类的内部实现(相当于If，else If内的条件)执行时通过State调用Context方法来执行。
* 职责链模式：
   * 相当于Swich case
   * 设计路线：客户设定，每个子类(case)的参数是下一个子类(case)。使用时，向链的第一个子类的执行方法传递参数就可以。

* 命令模式：将多个命令只提交给一个执行该命令的对象
 而职责链模式相反：只将一个请求提交给多个能执行该命令的对象

### 状态模式与职责链模式的区别：

* 状态模式是让各个状态对象自己知道其下一个处理的对象是谁，即在编译时便设定好了的；
* 而职责链模式中的各个对象并不指定其下一个处理的对象到底是谁，只有在客户端才设定。

### 职责链模式

链的组织是从最特殊的到最一般的，并且不能保证请求在任何情况下都回有相应。

职责链将程序中每个对象能做什么的内容隔离，即职责链减少了对象之间的耦合，每个对象都能独立操作。职责链也可用于构成主程序的对象和包含其它对象实例的对象。

##### 适用场景：

1. 具有相同方法的几个对象都适合于执行程序请求操作，但由对象决定由谁去完成操作，比把决策建立在调用代码中更合适
2. 其中某个对象可能最适合处理请求，但你不想通过一些列if-else语句或switch语句去选择一个特定的对象
3. 程序执行时，需要向处理选项链中添加新的对象
4. 在多个对象都能执行一个请求的情况下，你不想把这些相互作用的内容放在调用程序里

链中每个对象都是“自治”的，最后一个对象决定是默认处理请求，还是抛弃

### 命令模式

职责链沿类链转发请求，而命令模式只将请求转发给一个特定对象。命令模式把一个申请特定操作的请求封装到一个对象中，并给该对象一个众所周知的公共接口，使客户端不用了解实际执行的操作就能产生请求，也可以使你改变操作而丝毫不影响客户端程序。

##### 命令模式的效果：

命令模式的主要缺点是，增加了使程序散乱的小类，不过，即使有单独的单击事件，也通常都调用小的私有方法完成具体功能。最后的结果是，私有方法和我们这些小类的代码长度几乎一样，因此，构建 Command类和编写较多的方法在复杂性上通常没有区别，主要区别是命令模式生成的小类更容易理解。

使用命令设计模式的另一个主要原因是，他们提供了一个便捷的存储方法并能完成Undo功能。每个命令对象都记住刚刚做过的事，并在有Undo请求时，只要计算量和内存需求不太过分，就能恢复到刚才的状态
